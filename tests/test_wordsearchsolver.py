import pytest
from WordSearchLetter import WordSearchLetter
from XYCoord import XYCoord
from WordSearchSolver import WordSearchSolver

class TestWordSearchSolver:
    def test_word_search_solver_failure_problem(self):
        with pytest.raises(ValueError) as e:
            WordSearchSolver('tests/kata_failure_testcase.txt')
        assert "doesn't contain a comma anywhere" in str(e.value)

    def test_word_search_solver_kata_problem(self):
        wss = WordSearchSolver('tests/kata_testcase.txt')
        assert wss.solution() == """BONES: (0,6),(0,7),(0,8),(0,9),(0,10)
KHAN: (5,9),(5,8),(5,7),(5,6)
KIRK: (4,7),(3,7),(2,7),(1,7)
SCOTTY: (0,5),(1,5),(2,5),(3,5),(4,5),(5,5)
SPOCK: (2,1),(3,2),(4,3),(5,4),(6,5)
SULU: (3,3),(2,2),(1,1),(0,0)
UHURA: (4,0),(3,1),(2,2),(1,3),(0,4)"""

    def test_word_search_car_testcase(self):
        wss = WordSearchSolver('tests/carparts_hard_from_pdf.txt')
        assert wss.solution() == """ACCELERATOR: (4,9),(5,10),(6,11),(7,12),(8,13),(9,14),(10,15),(11,16),(12,17),(13,18),(14,19)
AIRFILTER: (17,17),(16,16),(15,15),(14,14),(13,13),(12,12),(11,11),(10,10),(9,9)
BATTERY: (11,14),(11,13),(11,12),(11,11),(11,10),(11,9),(11,8)
BLINKER: (19,9),(19,10),(19,11),(19,12),(19,13),(19,14),(19,15)
BRAKE: (2,11),(2,12),(2,13),(2,14),(2,15)
BUMPER: (6,14),(6,15),(6,16),(6,17),(6,18),(6,19)
CLUTCH: (18,9),(18,8),(18,7),(18,6),(18,5),(18,4)
DIFFERENTIAL: (19,1),(18,1),(17,1),(16,1),(15,1),(14,1),(13,1),(12,1),(11,1),(10,1),(9,1),(8,1)
DOORS: (9,7),(8,6),(7,5),(6,4),(5,3)
ENGINE: (16,13),(16,14),(16,15),(16,16),(16,17),(16,18)
EXHAUSTMANIFOLD: (13,3),(13,4),(13,5),(13,6),(13,7),(13,8),(13,9),(13,10),(13,11),(13,12),(13,13),(13,14),(13,15),(13,16),(13,17)
FUELTANK: (3,14),(3,13),(3,12),(3,11),(3,10),(3,9),(3,8),(3,7)
FUSES: (13,2),(12,3),(11,4),(10,5),(9,6)
GEAR: (7,7),(6,8),(5,9),(4,10)
GRILL: (0,6),(0,7),(0,8),(0,9),(0,10)
HEADLIGHT: (12,8),(11,7),(10,6),(9,5),(8,4),(7,3),(6,2),(5,1),(4,0)
HORN: (14,2),(14,3),(14,4),(14,5)
LIGHTS: (8,1),(7,2),(6,3),(5,4),(4,5),(3,6)
MUFFLER: (7,15),(6,15),(5,15),(4,15),(3,15),(2,15),(1,15)
REARVIEWMIRROR: (10,4),(10,5),(10,6),(10,7),(10,8),(10,9),(10,10),(10,11),(10,12),(10,13),(10,14),(10,15),(10,16),(10,17)
RIMS: (2,3),(3,3),(4,3),(5,3)
ROOFRACK: (4,12),(4,13),(4,14),(4,15),(4,16),(4,17),(4,18),(4,19)
SEAT: (2,2),(3,2),(4,2),(5,2)
SENSORS: (18,17),(18,16),(18,15),(18,14),(18,13),(18,12),(18,11)
SHOCKABSORBER: (1,2),(1,3),(1,4),(1,5),(1,6),(1,7),(1,8),(1,9),(1,10),(1,11),(1,12),(1,13),(1,14)
SUNVISOR: (8,12),(8,11),(8,10),(8,9),(8,8),(8,7),(8,6),(8,5)
TRANSMISSION: (15,13),(15,12),(15,11),(15,10),(15,9),(15,8),(15,7),(15,6),(15,5),(15,4),(15,3),(15,2)
WHEELS: (0,19),(0,18),(0,17),(0,16),(0,15),(0,14)
WINDSHIELD: (17,12),(16,11),(15,10),(14,9),(13,8),(12,7),(11,6),(10,5),(9,4),(8,3)"""